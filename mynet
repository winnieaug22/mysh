#!/bin/bash
intf="/etc/network/interfaces"
intf_ori="/etc/network/interfaces_ori"
echo "==board=="
echo "cp $intf $intf_ori"
echo "auto eth0"
echo "iface eth0 inet static"
echo "    address 169.254.6.111"
echo "    netmask 255.255.255.0"
echo "    network 169.254.6.0"
echo "    gateway 169.254.6.1"
echo "iface eth0 inet static"
echo "    address 169.254.6.222"
echo "    netmask 255.255.255.0"
echo "    network 169.254.6.0"
echo "    gateway 169.254.6.1"
echo "/etc/init.d/networking restart"
echo "mkdir .ssh"
echo "==server=="
echo "scp /home/winnie/mysh/mysshdir/authorized_keys top:.ssh"
echo "eval \"$(ssh-agent -s)\""
echo "ssh-add ~/.ssh/id_ed25519_vmTboard"
echo "--- ipupdown ---"
echo "- /etc/network/interfaces "
echo "auto eth0"
echo "iface eth0 inet static"
echo "    address 140.96.28.101"
echo "    netmask 255.255.255.0"
echo "    gateway 140.96.28.254"
echo "    dns-nameservers 140.96.216.194 8.8.8.8"
echo "---"
echo "sudo systemctl restart networking"
echo "--- NetworkManager ---"
echo "- /etc/NetworkManager/system-connections/Wiredconnection1"
echo "[connection]"
echo "id=Wiredconnection1"
echo "uuid=307c48c4-e0b7-44e7-b394-9f68db89bfbb"
echo "type=802-3-ethernet"
echo "interface-name=enp4s0f0"
echo ""
echo "[802-3-ethernet]"
echo ""
echo "[ipv4]"
echo "address1=140.96.28.101/24"
echo "dns=140.96.216.194;8.8.8.8"
echo "gateway=140.96.28.254"
echo "method=manual"
echo ""
echo "[ipv6]"
echo "method=auto"
echo "ip6-privacy=2"
echo "---"
echo "[ipv4]"
echo "method=auto"
echo "---"
echo "sudo systemctl restart NetworkManager"
echo "nmcli connection show Wiredconnection1 |grep method"
echo "---dns server---"
echo "cat /etc/resolv.conf"
echo "---gateway---"
echo "ip route|grep default"
echo "route -n"
